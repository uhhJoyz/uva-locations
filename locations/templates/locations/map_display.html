<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>

<script>
  let map;
  let marker;
  let lat_in;
  let lng_in;

  async function initMap() {
    const { Map } = await google.maps.importLibrary("maps");
    const { AdvancedMarkerElement } = await google.maps.importLibrary("marker");

    var lat = {{ lat }}
    var lng = {{ lng }}
    pos = { lat: lat, lng: lng };
    map = new Map(document.getElementById("map"), {
      center: pos,
      zoom: 17,
      mapId: "c6b64ad43fa2e13d",
    });

      marker = new AdvancedMarkerElement({
        map: map,
        position: map.getCenter(),

      });
  }
</script>

<div>
  <div class="mapholder">
    <div id="map"></div>
    <script
      async
      src="https://maps.googleapis.com/maps/api/js?key={{ api_key }}&callback=initMap&libraries=places"
    ></script>
  </div>
</div>
